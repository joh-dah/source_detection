schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: a32938568048bd25f23e86dc383f284c
      size: 5742
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 110
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
    outs:
    - path: data/raw
      md5: ebdcd8d897478e53fc329664eb04c896.dir
      size: 2542478
      nfiles: 140
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: ebdcd8d897478e53fc329664eb04c896.dir
      size: 2542478
      nfiles: 140
    - path: src/data_processing.py
      md5: 30243f5f313ed5b571d71014dccbaaef
      size: 5161
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 110
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
        model: GCNR
    outs:
    - path: data/processed
      md5: e65389ac9458d73e378e73198284041b.dir
      size: 2710398
      nfiles: 142
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: e65389ac9458d73e378e73198284041b.dir
      size: 2710398
      nfiles: 142
    - path: src/training.py
      md5: 53880a9322c4943491dc4db1a4085f9e
      size: 2548
    params:
      params.json:
        model: GCNR
        training:
          epochs: 10
          learning_rate: 0.0008
          hidden_size: 512
          layers: 10
          weight_decay: 1e-08
          alpha: 0.5
    outs:
    - path: models/latest.pth
      md5: 1ab64814cb8612fc6620653e73713518
      size: 1064911
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: e65389ac9458d73e378e73198284041b.dir
      size: 2710398
      nfiles: 142
    - path: models/latest.pth
      md5: 1ab64814cb8612fc6620653e73713518
      size: 1064911
    - path: src/visualization.py
      md5: ba6f1d9079842400d8e7ee2105ac6914
      size: 5525
    params:
      params.json:
        model: GCNR
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: f6a34025b05de4a4ea500da9ebf9022e.dir
      size: 2671097
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: e65389ac9458d73e378e73198284041b.dir
      size: 2710398
      nfiles: 142
    - path: models/latest.pth
      md5: 1ab64814cb8612fc6620653e73713518
      size: 1064911
    - path: src/validation.py
      md5: e2ab1b02d069ad7da3ce4b434fefb928
      size: 16116
    params:
      params.json:
        model: GCNR
    outs:
    - path: reports/latest.json
      md5: 5b621936724ae27b2e2f6351aafe5bf9
      size: 2036
