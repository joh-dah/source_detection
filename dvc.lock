schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: 76ec9fe9de2a59dccfca9c2f14ea1a4b
      size: 5746
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 110
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
    outs:
    - path: data/raw
      md5: 19e1666a3b79b4218f92d0407b471fbf.dir
      size: 2509966
      nfiles: 140
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: 19e1666a3b79b4218f92d0407b471fbf.dir
      size: 2509966
      nfiles: 140
    - path: src/data_processing.py
      md5: be6f0e1cb3abad81b6009c4780398878
      size: 4261
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 110
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
        model: GCNR
    outs:
    - path: data/processed
      md5: 7b7e4f410554c0014a2ceb7a84cea03b.dir
      size: 2675838
      nfiles: 142
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: 7b7e4f410554c0014a2ceb7a84cea03b.dir
      size: 2675838
      nfiles: 142
    - path: src/training.py
      md5: b3c3a8608984f62adcca0b008b4ae6cb
      size: 2189
    params:
      params.json:
        model: GCNR
        training:
          epochs: 10
          learning_rate: 0.0008
          hidden_size: 512
          layers: 10
          weight_decay: 1e-08
          alpha: 0.5
    outs:
    - path: models/latest.pth
      md5: 523983f39c70f7b93ba27eb05626deb9
      size: 1064911
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: 7b7e4f410554c0014a2ceb7a84cea03b.dir
      size: 2675838
      nfiles: 142
    - path: models/latest.pth
      md5: 523983f39c70f7b93ba27eb05626deb9
      size: 1064911
    - path: src/visualization.py
      md5: 2b77f9fa43adb7e1336d516dd66f3de0
      size: 5212
    params:
      params.json:
        model: GCNR
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: aadd848a607ab86fdc900505391b398c.dir
      size: 2816840
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: 7b7e4f410554c0014a2ceb7a84cea03b.dir
      size: 2675838
      nfiles: 142
    - path: models/latest.pth
      md5: 523983f39c70f7b93ba27eb05626deb9
      size: 1064911
    - path: src/validation.py
      md5: 5bd64c48565a445c4c6d5f30f6c95ebb
      size: 13487
    params:
      params.json:
        model: GCNR
    outs:
    - path: reports/latest.json
      md5: 7caefc4998fa7fd639240b6c9de77c29
      size: 1969
