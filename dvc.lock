schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: adee7f61e750738d95477b53daa126d5
      size: 5772
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 10000
          validation_size: 100
          mean_nodes: 1000
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 90
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
    outs:
    - path: data/raw
      md5: a3de9ee976a16732db02d6883d3ec6bf.dir
      size: 1710392278
      nfiles: 10100
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: a3de9ee976a16732db02d6883d3ec6bf.dir
      size: 1710392278
      nfiles: 10100
    - path: src/data_processing.py
      md5: be6f0e1cb3abad81b6009c4780398878
      size: 4261
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 10000
          validation_size: 100
          mean_nodes: 1000
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 90
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          small_input: false
        model: GCNR
    outs:
    - path: data/processed
      md5: 0a5e1bf3d095040c458e2d6150ade395.dir
      size: 1831470406
      nfiles: 10102
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: 0a5e1bf3d095040c458e2d6150ade395.dir
      size: 1831470406
      nfiles: 10102
    - path: src/training.py
      md5: 87da8eb6362bd77d9a334902a7231ae1
      size: 2547
    params:
      params.json:
        model: GCNR
        model_name: '1'
        training:
          epochs: 100
          learning_rate: 1e-05
          hidden_size: 512
          layers: 10
          weight_decay: 1e-08
          alpha: 0.5
          batch_size: 100
          useLogLoss: false
    outs:
    - path: models/latest.pth
      md5: 5319c90b346322a1782bbe84fe9a0433
      size: 1064975
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: 0a5e1bf3d095040c458e2d6150ade395.dir
      size: 1831470406
      nfiles: 10102
    - path: models/latest.pth
      md5: 5319c90b346322a1782bbe84fe9a0433
      size: 1064975
    - path: src/visualization.py
      md5: 39204a80bc3aab473a3dbd1af493ca3d
      size: 5220
    params:
      params.json:
        model: GCNR
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: f3c210b480ec9596a801c4fcfd3ebf61.dir
      size: 2582879
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: 367eddd0b2082c2eb474bdf4276bf995.dir
      size: 1831470406
      nfiles: 10102
    - path: models/latest.pth
      md5: db5172f0782c77a170c16c6d9b447013
      size: 1064975
    - path: src/validation.py
      md5: 4f47b6eca2e9d4d8d67c9cb88c7e39ae
      size: 12440
    params:
      params.json:
        model: GCNSI
        model_name: '0'
    outs:
    - path: reports/latest.json
      md5: 6377543775f9e4436516257cbb0f37a5
      size: 1630
