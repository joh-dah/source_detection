schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: 76ec9fe9de2a59dccfca9c2f14ea1a4b
      size: 5746
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 200
          validation_size: 40
          mean_nodes: 50
          ws_neighbours: 6
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 1
          mean_iters: 10
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
    outs:
    - path: data/raw
      md5: fd0d925ccc24aa330dda69e58ee4cb8e.dir
      size: 1560938
      nfiles: 240
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: fd0d925ccc24aa330dda69e58ee4cb8e.dir
      size: 1560938
      nfiles: 240
    - path: src/data_processing.py
      md5: ca5a40b75736b128339dae89ee627b94
      size: 3769
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 200
          validation_size: 40
          mean_nodes: 50
          ws_neighbours: 6
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 1
          mean_iters: 10
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
        model: GCNSI
    outs:
    - path: data/processed
      md5: 8871aef9afc4aaec671db2306a250ee3.dir
      size: 1702298
      nfiles: 242
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: 8871aef9afc4aaec671db2306a250ee3.dir
      size: 1702298
      nfiles: 242
    - path: src/training.py
      md5: 84036c43d606014859670c06e2bef651
      size: 2034
    params:
      params.json:
        model: GCNSI
        training:
          epochs: 15
          learning_rate: 0.0001
          hidden_size: 512
          layers: 10
          gcnsi_n_features: 4
          gcnr_n_features: 4
          weight_decay: 1e-08
          alpha: 0.5
    outs:
    - path: models
      md5: 287bcb35ac61b07c17acca8bae1d61a2.dir
      size: 1065319
      nfiles: 1
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: 8871aef9afc4aaec671db2306a250ee3.dir
      size: 1702298
      nfiles: 242
    - path: models
      md5: 287bcb35ac61b07c17acca8bae1d61a2.dir
      size: 1065319
      nfiles: 1
    - path: src/visualization.py
      md5: bc26f9a253fbdb3d5f50f0818cd98d5e
      size: 5655
    params:
      params.json:
        model: GCNSI
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: c2021e794429d47394ec27410d86de93.dir
      size: 1569072
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: 8871aef9afc4aaec671db2306a250ee3.dir
      size: 1702298
      nfiles: 242
    - path: models
      md5: 287bcb35ac61b07c17acca8bae1d61a2.dir
      size: 1065319
      nfiles: 1
    - path: src/validation.py
      md5: fb24c9f8b854c691b724742e4d4b3fdc
      size: 9465
    params:
      params.json:
        model: GCNSI
    outs:
    - path: reports/
      md5: f8e8fb8e45866a2d06fa919d6b672fce.dir
      size: 130
      nfiles: 1
