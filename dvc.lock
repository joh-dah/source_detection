schema: '2.0'
stages:
  data-creation:
    cmd: python -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: 76ec9fe9de2a59dccfca9c2f14ea1a4b
      size: 5746
    params:
      params.json:
        data_creation:
          graph_type: barabasi_albert
          prop_model: SI
          training_size: 1000
          validation_size: 20
          mean_nodes: 60
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 1
          mean_iters: 65
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
    outs:
    - path: data/raw
      md5: 1cc2102cfe2572737ff9c09a01b174dd.dir
      size: 5662210
      nfiles: 1020
  data-processing:
    cmd: python -m src.data_processing
    deps:
    - path: data/raw
      md5: 1cc2102cfe2572737ff9c09a01b174dd.dir
      size: 5662210
      nfiles: 1020
    - path: src/data_processing.py
      md5: 066fb07e5c029668f66cf577f75b7ea7
      size: 3771
    params:
      params.json:
        data_creation:
          graph_type: barabasi_albert
          prop_model: SI
          training_size: 1000
          validation_size: 20
          mean_nodes: 60
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 1
          mean_iters: 65
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
        model: GCNR
    outs:
    - path: data/processed
      md5: 7724f039e6b44438ef329ac007fd4110.dir
      size: 6388466
      nfiles: 1022
  training:
    cmd: python -m src.training
    deps:
    - path: data/processed
      md5: 7724f039e6b44438ef329ac007fd4110.dir
      size: 6388466
      nfiles: 1022
    - path: src/training.py
      md5: 27b80784d10a3d6111b9c69c7e84bd82
      size: 1996
    params:
      params.json:
        model: GCNR
        training:
          epochs: 20
          learning_rate: 1e-06
          hidden_size: 512
          layers: 5
          gcnsi_n_features: 4
          gcnr_n_features: 4
          weight_decay: 0.1
          alpha: 0.5
    outs:
    - path: models
      md5: afb25013edb11c34e489b2d6c1cf6adb.dir
      size: 2130582
      nfiles: 2
  visualisation:
    cmd: python -m src.visualization
    deps:
    - path: data/processed
      md5: 7724f039e6b44438ef329ac007fd4110.dir
      size: 6388466
      nfiles: 1022
    - path: models
      md5: afb25013edb11c34e489b2d6c1cf6adb.dir
      size: 2130582
      nfiles: 2
    - path: src/visualization.py
      md5: 7cb74fab9331bbc611cc70c0af14395d
      size: 5498
    params:
      params.json:
        model: GCNR
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: 90ab1911a1eae8f3d3e345aac9e8af7b.dir
      size: 1431621
      nfiles: 15
  validation:
    cmd: python -m src.validation
    deps:
    - path: data/processed
      md5: 7724f039e6b44438ef329ac007fd4110.dir
      size: 6388466
      nfiles: 1022
    - path: models
      md5: afb25013edb11c34e489b2d6c1cf6adb.dir
      size: 2130582
      nfiles: 2
    - path: src/validation.py
      md5: 35253f877df512a6f8ec0f518ce39569
      size: 8974
    params:
      params.json:
        model: GCNR
