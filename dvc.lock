schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: 76ec9fe9de2a59dccfca9c2f14ea1a4b
      size: 5746
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 100
          validation_size: 100
          mean_nodes: 1000
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 90
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          train_size: 10000
    outs:
    - path: data/raw
      md5: e87251f30b5548f85d3970c524e3a906.dir
      size: 33854290
      nfiles: 200
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: e87251f30b5548f85d3970c524e3a906.dir
      size: 33854290
      nfiles: 200
    - path: src/data_processing.py
      md5: cb456fadc83eba40f2a6583334649122
      size: 4235
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 100
          validation_size: 100
          mean_nodes: 1000
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 90
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
          train_size: 10000
        model: GCNR
    outs:
    - path: data/processed
      md5: b5982fb2deee98fa929059d2396afefd.dir
      size: 36252482
      nfiles: 202
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: b5982fb2deee98fa929059d2396afefd.dir
      size: 36252482
      nfiles: 202
    - path: src/training.py
      md5: d1b8d2771e7cabefe8ee4af7ac27bd80
      size: 3075
    params:
      params.json:
        model: GCNR
        model_name: '6'
        training:
          epochs: 100
          learning_rate: 5e-05
          hidden_size: 512
          layers: 10
          gcnsi_n_features: 4
          gcnr_n_features: 4
          weight_decay: 1e-08
          alpha: 0.5
          batch_size: 100
          useLogLoss: true
    outs:
    - path: models/latest.pth
      md5: 4c6bfa16380c522daaa58fc30ccec522
      size: 1064975
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: b5982fb2deee98fa929059d2396afefd.dir
      size: 36252482
      nfiles: 202
    - path: models/latest.pth
      md5: 4c6bfa16380c522daaa58fc30ccec522
      size: 1064975
    - path: src/visualization.py
      md5: bc26f9a253fbdb3d5f50f0818cd98d5e
      size: 5655
    params:
      params.json:
        model: GCNR
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: 7706454701e82e4d0cb9558f5cff1b03.dir
      size: 2540728
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: b5982fb2deee98fa929059d2396afefd.dir
      size: 36252482
      nfiles: 202
    - path: models/latest.pth
      md5: 4c6bfa16380c522daaa58fc30ccec522
      size: 1064975
    - path: src/validation.py
      md5: 4830271a19c4efda98127c1f4a19a5fd
      size: 14026
    params:
      params.json:
        model: GCNR
        model_name: '6'
    outs:
    - path: reports/latest.json
      md5: e2f35e410d5bf39d6ca1b7d625d8cb14
      size: 463
