schema: '2.0'
stages:
  data-creation:
    cmd: python -W ignore -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: 76ec9fe9de2a59dccfca9c2f14ea1a4b
      size: 5912
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 100
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 6
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
    outs:
    - path: data/raw
      md5: 8b60974ab456a4610a378de6ab5fac01.dir
      size: 1535160
      nfiles: 130
  data-processing:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/raw
      md5: 8b60974ab456a4610a378de6ab5fac01.dir
      size: 1535160
      nfiles: 130
    - path: src/data_processing.py
      md5: cbf6c7de151fcce58172a30728a42265
      size: 3911
    params:
      params.json:
        data_creation:
          graph_type: watts_strogatz
          prop_model: SI
          training_size: 100
          validation_size: 30
          mean_nodes: 100
          ws_neighbours: 6
          ws_probability: 0.2
          ba_neighbours: 3
          mean_sources: 2
          mean_iters: 35
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
        model: GCNSI
    outs:
    - path: data/processed
      md5: 8aef7c3ea8409b4107a14841c681ab37.dir
      size: 1691944
      nfiles: 132
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/processed
      md5: 8aef7c3ea8409b4107a14841c681ab37.dir
      size: 1691944
      nfiles: 132
    - path: src/training.py
      md5: 182f3fd7a7e125837d1bd8b4a73e8630
      size: 2530
    params:
      params.json:
        model: GCNSI
        training:
          epochs: 15
          learning_rate: 0.002
          hidden_size: 512
          layers: 10
          gcnsi_n_features: 4
          gcnr_n_features: 4
          weight_decay: 1e-08
          alpha: 0.5
    outs:
    - path: models/latest.pth
      md5: b9ff33b87da3d6111bddd8b4dc45e545
      size: 1064911
  visualisation:
    cmd: python -W ignore -m src.visualization
    deps:
    - path: data/processed
      md5: 8aef7c3ea8409b4107a14841c681ab37.dir
      size: 1691944
      nfiles: 132
    - path: models/latest.pth
      md5: b9ff33b87da3d6111bddd8b4dc45e545
      size: 1064911
    - path: src/visualization.py
      md5: 82563a0a9ca525ea3feab03d87934748
      size: 5917
    params:
      params.json:
        model: GCNSI
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: a69f1bf39d10c64c462c0ed02ded34c4.dir
      size: 2084672
      nfiles: 15
  validation:
    cmd: python -W ignore -m src.validation
    deps:
    - path: data/processed
      md5: 8aef7c3ea8409b4107a14841c681ab37.dir
      size: 1691944
      nfiles: 132
    - path: models/latest.pth
      md5: b9ff33b87da3d6111bddd8b4dc45e545
      size: 1064911
    - path: src/validation.py
      md5: aebcaf69f73fc2b13ee9c27c237035e1
      size: 11962
    params:
      params.json:
        model: GCNSI
    outs:
    - path: reports/latest.json
      md5: d00662c4420cf3f79f64005447087c80
      size: 1529
