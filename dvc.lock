schema: '2.0'
stages:
  data-creation:
    cmd: python -m src.data_creation
    deps:
    - path: src/data_creation.py
      md5: fad8846a2ab0ee932cecbe2f98fe10e2
      size: 5593
    params:
      params.json:
        data_creation:
          graph_type: barabasi_albert
          prop_model: SIR
          training_size: 100
          validation_size: 20
          mean_nodes: 30
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 2
          mean_iters: 65
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
    outs:
    - path: data/raw
      md5: 135bc62652ee282eef3bd0f6e6e224d3.dir
      size: 412066
      nfiles: 120
  data-processing:
    cmd: python -m src.data_processing
    deps:
    - path: data/raw
      md5: 135bc62652ee282eef3bd0f6e6e224d3.dir
      size: 412066
      nfiles: 120
    - path: src/data_processing.py
      md5: a16d5e12c500aef43f4e9f1ba793c7fe
      size: 3479
    params:
      params.json:
        data_creation:
          graph_type: barabasi_albert
          prop_model: SIR
          training_size: 100
          validation_size: 20
          mean_nodes: 30
          ws_neighbours: 10
          ws_probability: 0.2
          ba_neighbours: 2
          mean_sources: 2
          mean_iters: 65
          sir_beta: 0.01
          sir_gamma: 0.005
          si_beta: 0.01
        model: GCNSI
  training:
    cmd: python -m src.training
    deps:
    - path: src/data_processing.py
      md5: a16d5e12c500aef43f4e9f1ba793c7fe
      size: 3479
    - path: src/training.py
      md5: c4971d860364f22b44d9b6e83f164c6f
      size: 1986
    params:
      params.json:
        model: GCNSI
        training:
          epochs: 20
          learning_rate: 1e-06
          hidden_size: 512
          layers: 5
          gcnsi_n_features: 4
          gcnr_n_features: 4
          weight_decay: 0.1
          alpha: 0.5
    outs:
    - path: data/processed
      md5: cdab096c3bec2d60fde0f36d5cce9560.dir
      size: 456850
      nfiles: 122
    - path: models
      md5: 51c136b7a27197dc38c43e685bc6297d.dir
      size: 2130598
      nfiles: 2
  visualisation:
    cmd: python -m src.visualization
    deps:
    - path: data/processed
      md5: cdab096c3bec2d60fde0f36d5cce9560.dir
      size: 456850
      nfiles: 122
    - path: src/visualization.py
      md5: 7cb74fab9331bbc611cc70c0af14395d
      size: 5498
    params:
      params.json:
        model: GCNSI
        visualization:
          seed: 123
    outs:
    - path: figures
      md5: a011e2966c68a4be307f5d68f7ce1add.dir
      size: 891175
      nfiles: 15
  validation:
    cmd: python -m src.validation
    deps:
    - path: data/processed
      md5: cdab096c3bec2d60fde0f36d5cce9560.dir
      size: 456850
      nfiles: 122
    - path: src/validation.py
      md5: fd212aa4ea1721917a1907d15af8f86c
      size: 8907
    params:
      params.json:
        model: GCNSI
